<!DOCTYPE html
    PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
    "http://www.w3.org/TR/html4/loose.dtd">
<html lang="en">
<head>
  <meta http-equiv="Content-Language" content="en">
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Script-Type" content="text/javascript; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <meta name="generator" content="Hiki 0.9dev">
  <title>日本 Ruby 会議 2007 - Log0610-S1-02</title>
  <link rel="stylesheet" type="text/css" href="/2007/hiki_base.css" media="all">
  <link rel="stylesheet" type="text/css" href="/2007/rk7/ruby_kaigi.css" media="all">
  <link rel="alternate" type="application/rss+xml" title="RSS" href="index.rss">  <link rel="icon" type="image/png" href="/2007/favicon.png">
  <link rel="shortcut icon" type="image/x-icon" href="../favicon.ico">
</head>

<body>
<a name="top"> </a>
<div class="main">
  <div class="logo"><a href="index.html"><img style="border: 0;" src="/2007/ruby_kaigi_logo.png" alt="日本Rubyカンファレンス2006"></a></div>
  
  <div><div class="day">
  <h2><span class="date"><a name="l0"> </a></span><span class="title">JRuby on Rails でエンタープライズ Ruby　（高井 直人）</span></h2>
  <div class="body">
    <div class="section">
      <dl>
<dt>スピーカー</dt>
<dd>高井 直人 - recompile.net
</dd>
<dt>プロフィール</dt>
<dd>ソフトウェアエンジニア。1977年横浜生まれ。Java EEやRubyといったオープンソース技術を活用したウェブサイトの企画、構築、運用などの分野で活躍中。
</dd>
<dt>講演時間</dt>
<dd>10：30〜11：00
</dd>
<dt>講演者による資料</dt>
<dd><a href="http://recompile.net/rubykaigi2007/enterprise_ruby_with_jruby_on_rails.pdf" class="external">http://recompile.net/rubykaigi2007/enterprise_ruby_with_jruby_on_rails.pdf</a><br><a href="http://recompile.net/2007/06/rubykaigi2007.html" class="external">http://recompile.net/2007/06/rubykaigi2007.html</a>
</dd>
</dl>
<img alt="rubykaigi_biz2.jpg" width="256" height="192" src="rubykaigi_biz2.jpg">
<h3><a name="l1"><span class="sanchor"> </span></a>自己紹介</h3>
<ul>
<li>普段はJavaとかRubyとかでSIしてます</li>
<li>JRubyのサポートのプログラムを書いています</li>
</ul>
<h3><a name="l2"><span class="sanchor"> </span></a>今日の発表について</h3>
<p>色物投入しようと思いました。</p>
<p>「Enterprise Ruby（笑）」ってタイトルにしようかと</p>
<ul>
<li>Introduction to JRuby</li>
<li>JRuby on Rails</li>
<li>GoldSpike</li>
<li>Grizzly on Rails</li>
<li>Enterprise Integration with JRuby</li>
</ul>
<p>昨日のJRubyの講演を聴いたひとどれくらいいますか？（会場ほとんど挙手）</p>
<p>ほとんどの人が聞いてますね。それでは今日の目玉は日本語でしゃべるということでｗｗｗ</p>
<h3><a name="l3"><span class="sanchor"> </span></a>Introduction to Ruby</h3>
<p>Version 1.0がリリースされました（拍手）</p>
<ul>
<li>Pure Java</li>
<li>Ruby 1.8.5相当</li>
<li>Java support<ul>
<li>Threading</li>
<li>JIT(Java classにコンパイル)</li>
</ul></li>
</ul>
<h4><a name="l4"> </a>JavaをJRubyから使う例</h4>
<pre>require 'java'

import javax.swing.JFrame
...</pre>
<p>昨日とかぶった＞＜</p>
<h4><a name="l5"> </a>RubyをJavaに埋め込み</h4>
<pre>import org.jruby.Ruby;

Ruby ruby =  Ruby.getDefaultInstance();
ruby.evalScript(script);
...</pre>
<p>Rubyの構文を使ってDSLとして使える</p>
<h3><a name="l6"><span class="sanchor"> </span></a>JRuby on Rails</h3>
<ul>
<li>98%以上のコンパチビリティ<ul>
<li>RSpecとか変態的なものもいけてる（笑）</li>
</ul></li>
<li>Rails family<ul>
<li>WEBrick</li>
<li>Mongrel</li>
<li>GoldSpike</li>
<li>Grizzly</li>
</ul></li>
</ul>
<h4><a name="l7"> </a>WEBrick</h4>
<ul>
<li>Pure JRuby (typo: Pure Java)</li>
<li>遅い</li>
</ul>
<h4><a name="l8"> </a>Mongrel</h4>
<ul>
<li>JRuby + Java Extension</li>
<li>速い</li>
<li>stable</li>
</ul>
<h4><a name="l9"> </a>GoldSpike</h4>
<p>Servlet APIを使ってJRuby経由でRailsを動かす</p>
<table border="1">
<tr><th>Ruby on Rails</th></tr>
<tr><th>JRuby</th></tr>
<tr><th>RailsServlet</th></tr>
<tr><th>App Server</th></tr>
<tr><th>JVM</th></tr>
</table>
<h4><a name="l10"> </a>インストール</h4>
<ul>
<li>ビルド</li>
</ul>
<pre>mvn install</pre>
<ul>
<li>プラグインとして作られている</li>
</ul>
<pre>./script/plugin install ....</pre>
<ul>
<li>warを作成</li>
</ul>
<pre>rake war:standalone:create</pre>
<ul>
<li>Standalone mode</li>
</ul>
<pre>rake war:standalone:run</pre>
<p>これだけでサーバーが動く</p>
<h4><a name="l11"> </a>Grizzly on Rails</h4>
<ul>
<li>GlassFish :Sunのアプリケーションサーバー</li>
<li>NIO framework</li>
<li>JRuby support</li>
</ul>
<table border="1">
<tr><th>Ruby on Rails</th></tr>
<tr><th>JRuby</th></tr>
<tr><th>RailsAdapter</th></tr>
<tr><th>Grizzly</th></tr>
<tr><th>JVM</th></tr>
</table>
<ul>
<li>SelectorThreadを実装しているRailsSelectorThreadがあって</li>
<li>Adapterを実装しているRailsAdapterがあって</li>
<li>SelectorThreadはAdapterを参照していて</li>
<li>RubyObjectPoolがRailsAdapterとRailsSelectorThreadを参照している</li>
</ul>
<p>みたいなクラス図</p>
<p>よくわからなかったです。RubyObjectPoolはリクエストごとにRubyのインスタンスを返すみたいです。</p>
<h3><a name="l12"><span class="sanchor"> </span></a>なぜJavaでうれしいの？</h3>
<ul>
<li>JMXでメモリー、スレッドなどをモニタリングできる</li>
</ul>
<p>ここでデモのつもりが、「めちゃめちゃ遅いですね＞＜」</p>
<ul>
<li>RCM（Grezzlyに乗ってる）</li>
</ul>
<p>リソース管理、非同期も出来る</p>
<h4><a name="l13"> </a>GrassFish</h4>
<table border="1">
<tr><th>Tomcat</th><th>PHP</th><th>JRuby</th></tr>
<tr><th colspan="3">HK2</th></tr>
<tr><th colspan="3">Grizzly</th></tr>
<tr><th colspan="3">JVM</th></tr>
</table>
<p>SUNはJRubyに本気らしい</p>
<h4><a name="l14"> </a>ここでデモ</h4>
<pre>Hello, World!</pre>
<p>WEBrick,Mongrelでデモしました。Hello, World!とだけ表示するデモに会場大うけでした。
GoldSpikeはMacで動かなかったそうです。</p>
<p>「すばらしいですね！」の一言に会場拍手</p>
<h3><a name="l15"><span class="sanchor"> </span></a>ベンチマーク</h3>
<p>C実装のMongrel ＞＞＞超えられない壁＞＞＞ Grizlly ＞ GoldSpike ＞ Mongrel　＞＞＞＞＞WEBrick</p>
<h3><a name="l16"><span class="sanchor"> </span></a>ActiveRecordとJDBCが使える</h3>
<p>JDBCはサポートするDBが意外と多いから便利だよ</p>
<h3><a name="l17"><span class="sanchor"> </span></a>EJB3</h3>
<p>鐘一回鳴ったので「こんなんどーでもいいですね」の一言でばっさり切る講演者。場内爆笑。</p>
<h3><a name="l18"><span class="sanchor"> </span></a>デモ</h3>
<p>デモはまーいいかｗｗｗｗ</p>
<p>Hello, EJBと出るだけだしｗｗ</p>
<p>飛ばす講演者。場内爆笑。</p>
<p>WEBサービスも簡単につくれる</p>
<h3><a name="l19"><span class="sanchor"> </span></a>Enterprise Railsって？</h3>
<p>ここから本題なんですけど、時間がないですね</p>
<p>Railsはどこがセンスがいいのかというと選ばないこと</p>
<dl>
<dt>JRuby on Rails as Enterprise Glue</dt>
<dd>
</dd>
</dl>
<ul>
<li>JRubyにエンタープライズの機能を組み込むのではなくて、すでにあるJavaのエンタープライズの機能を生かしていける</li>
<li>JRuby on RailsでEnterpriseのインテグレーションが可能になる</li>
</ul>
<dl>
<dt>The glass is half empty.  or The glass is half full.</dt>
<dd>
</dd>
</dl>
<p>まだ半分しか出来ていないではなくて、もう半分も出来てる！</p>
<p>JRubyをよろしくおねがいします。</p>
<h3><a name="l20"><span class="sanchor"> </span></a>質疑応答</h3>
<dl>
<dt>JRubyのバージョンは？</dt>
<dd>1.0
</dd>
</dl>
<dl>
<dt>遅い理由はどのへん？</dt>
<dd>わかりません。JRubyのチームにでも聞いて
</dd>
</dl>
<dl>
<dt>Grizzlyサーブレットコンテナを介さないということ？</dt>
<dd>
</dd>
</dl>
<p>そうです。
サーブレットコンテナを取り去ってJRubyを使えるようにしたものです。</p>
<p>(ロガー：よう）</p>
    </div>
  </div>
</div>
</div>
  <div class="day">
    <div class="comment">
      <div class="caption">
        Last modified:2007/06/16 15:55:02<br>
        Keyword(s):<br>
        References:[<a href="Log.html">RubyKaigi2007速報ログ</a>] <br>
        
      </div>
    </div>
    
  </div>
</div>

<hr style="display: none">
<div class="sidebar">
  <form action="index.html" method="get">
  <input type="text" name="key" size="15">
  <input type="submit" name="comment" value="Search">
  <input type="hidden" name="c" value="search">
</form>

<h3><a name="s0"><span class="sanchor"> </span></a><a href="index.html">トップページ</a></h3>
<h3><a name="s1"><span class="sanchor"> </span></a><a href="news.html">新着情報</a></h3>
<dl>
<dt>2007/06/13</dt>
<dd>
</dd>
<dd><a href="2007061001.pdf">「RubyKaigi2007のライトニングトークスに関するコメント」</a>発表
</dd>
<dt>2007/06/12</dt>
<dd>
</dd>
<dd><a href="enquete.html">アンケート</a>ページ公開
</dd>
<dd><a href="Goodies.html">会場BGMリスト</a>公開
</dd>
<dt>2007/06/10</dt>
<dd>
</dd>
<dd><a href="TrackBack.html">トラックバック</a>ページ公開
</dd>
<dt>2007/06/09</dt>
<dd>
</dd>
<dd><a href="Log.html">速報ログ</a>ページ公開
</dd>
</dl>
<h3><a name="s2"><span class="sanchor"> </span></a><a href="Program.html">プログラム</a></h3>
<dl>
<dt><a href="Program0609.html">一日目(6/9)</a></dt>
<dd>
</dd>
<dt><a href="Program0610.html">二日目(6/10)</a></dt>
<dd>
</dd>
</dl>
<h3><a name="s3"><span class="sanchor"> </span></a><a href="Party.html">懇親会</a></h3>
<h3><a name="s4"><span class="sanchor"> </span></a><a href="Goodies.html">おまけ</a></h3>
<h3><a name="s5"><span class="sanchor"> </span></a><a href="english.html">English</a></h3>
<h3><a name="s6"><span class="sanchor"> </span></a><a href="Sponsors.html">スポンサー</a></h3>
<h3><a name="s7"><span class="sanchor"> </span></a><a href="ExecutiveCommittee.html">日本Ruby会議2007実行委員会</a></h3>
<h4><a name="s8"> </a>特別協賛</h4>
<ul>
<li><a href="http://www.netlab.jp/" class="external"><img alt="nacl.png" width="146" height="50" src="nacl.png"></a></li>
</ul>
<h4><a name="s9"> </a>協賛</h4>
<ul>
<li><a href="http://www.asteriks.co.jp/" class="external"><img alt="asteriks.png" width="160" height="29" src="asteriks.png"></a></li>
<li><a href="http://www.ctc-g.co.jp/" class="external"><img alt="ctc.png" width="156" height="46" src="ctc.png"></a></li>
<li><a href="http://www.infoteria.com/jp/" class="external"><img alt="infoteria.png" width="132" height="50" src="infoteria.png"></a></li>
<li><a href="http://www.rakuten.co.jp/" class="external"><img alt="rakuten.png" width="128" height="43" src="rakuten.png"></a></li>
<li><a href="http://www.drecom.co.jp/" class="external"><img alt="drecom.png" src="drecom.png"></a></li>
<li><a href="http://www.ibm.com/jp/software/" class="external"><img alt="ibm.png" width="104" height="68" src="ibm.png"></a></li>
<li><a href="http://jp.sun.com/company/approach/community.html" class="external">サン・マイクロシステムズ株式会社</a></li>
<li><a href="http://www.esm.co.jp/" class="external"><img alt="eiwa.png" width="106" height="48" src="eiwa.png"></a></li>
<li><a href="http://www.rsssuite.jp/corp.html" class="external"><img alt="feedforce.png" width="112" height="27" src="feedforce.png"></a></li>
<li><a href="http://www.meme.ne.jp/" class="external"><img alt="meme.png" width="74" height="39" src="meme.png"></a></li>
<li><a href="http://www.kccs.co.jp/" class="external"><img alt="kccs.png" width="98" height="29" src="kccs.png"></a></li>
<li><a href="http://www.nifty.com/labs/" class="external"><img alt="nifty.png" width="74" height="56" src="nifty.png"></a></li>
<li><a href="http://www.twinspark.co.jp/" class="external"><img alt="twinspark.png" src="twinspark.png"></a></li>
</ul>
<h4><a name="s10"> </a>技術協力</h4>
<ul>
<li><a href="http://www.i-revo.jp/" class="external"><img alt="irevo.png" width="98" height="30" src="irevo.png"></a></li>
</ul>
<h3><a name="s11"><span class="sanchor"> </span></a>RSS</h3>
<p><a href="index.rss" class="external"><img alt="feed-icon-24x24.png" width="24" height="24" src="feed-icon-24x24.png"></a></p>

</div>

<div class="footer"></div>
<div class="adminmenu"><span class="adminmenu"><a href="index.html?c=login%3Bp=Log0610-S1-02">Login</a></span></div>
</body>
</html>
